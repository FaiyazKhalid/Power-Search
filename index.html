<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <title>Power Wiki Search</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="bower_components/bootstrap-css-only/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

    <script src='bower_components/angular/angular.min.js'></script>
    <script src='bower_components/angular-sanitize/angular-sanitize.min.js'></script>
    <script src='app.js'></script>
</head>

<body ng-app='wikiModul' ng-controller='WikiController as wiki' ng-init='wiki.updateSearchTerm(); wiki.searchWikipedia(wiki.term, wiki.params)' >

    <!-- alt logoi https://en.wikibooks.org/wiki/Main_Page -->
    <table id="content">
     <tr>
      <td>
       <a href="https://www.wikipedia.org/" title="Wikipedia — The free encyclopedia"><img src="https://www.wikimedia.org/static/images/project-logos/enwiki.png" srcset="https://www.wikimedia.org/static/images/project-logos/enwiki-1.5x.png, https://www.wikimedia.org/static/images/project-logos/enwiki-2x.png 2x" width="135" alt="Wikipedia"></a>
      </td>
      <td>
       <a href="https://www.wiktionary.org/" title="Wiktionary — The free dictionary"><img src="https://www.wikimedia.org/static/images/project-logos/enwiktionary.png" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Wiktionary-logo-en.svg/203px-Wiktionary-logo-en.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Wiktionary-logo-en.svg/270px-Wiktionary-logo-en.svg.png 2x" width="135" alt="Wiktionary"></a>
      </td>
      <td>
       <a href="https://www.wikiquote.org/" title="Wikiquote — Collection of quotations"><img src="https://www.wikimedia.org/static/images/project-logos/wikiquote.png" srcset="https://upload.wikimedia.org/wikipedia/meta/7/7a/Wikiquote-logo_project_1.5x.png 1.5x, //upload.wikimedia.org/wikipedia/meta/5/5b/Wikiquote-logo_project_2x.png 2x" width="135" alt="Wikiquote"></a>
      </td>
     </tr>
     <tr>
      <td>
       <a href="https://wikisource.org/" title="Wikisource — The free library"><img src="https://www.wikimedia.org/static/images/project-logos/wikisource.png" width="123" alt="Wikisource"></a>
      </td>
     </tr>
     <tr>
      <td>
       <a href="https://commons.wikimedia.org/" title="Wikimedia Commons — Shared media repository"><img src="https://www.wikimedia.org/static/images/project-logos/commonswiki.png" width="135" alt="Wikimedia Commons"></a>
      </td>
      <td>
       <a href="https://www.wikivoyage.org/" title="Wikivoyage — The free, worldwide travel guide"><img src="https://www.wikimedia.org/static/images/project-logos/wikivoyage.png" width="135" alt="Wikivoyage"></a>
      </td>
     </tr>
    </table>

    <header class="header">
        <section class="container">
            <form class="search-form row" role="form">

                <div class="col-md-6">
                    <div class="form-group">
                        <button class="btn btn-success search-button input-lg" type="submit" ng-click='wiki.searchWikipedia(wiki.term, wiki.params)'>
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                        <input ng-model='wiki.term' ng-change='wiki.updateSearchTerm(); wiki.searchWikipedia(wiki.term, wiki.params)' class="form-control input-lg" autofocus>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="radio-inline">
                            <input type="radio" ng-model="wiki.searchFilter" value="intitle:" ng-change='wiki.searchWikipedia(wiki.term, wiki.params)'> title first
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="wiki.searchFilter" value="" ng-change='wiki.searchWikipedia(wiki.term, wiki.params)'> content
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="wiki.searchFilter" value="prefix:" ng-change='wiki.searchWikipedia(wiki.term, wiki.params)'> prefix
                        </label>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="form-group">
                        <input type="number" min="1" max="50" ng-model='wiki.params.gsrlimit' ng-change='wiki.checkMax(); wiki.searchWikipedia(wiki.term, wiki.params)' class="form-control">
                    </div>
                </div>
            </form>

        </section>


    </header>

    <main class="container main" ng-cloak>

        {{wiki.error}}

        <div class="row">

            <div ng-class="wiki.leadLarge ? 'col-md-12' : 'col-md-6 col-md-push-6'">
                <button title="Back to serch results" class="btn btn-link" ng-show="wiki.leadLarge" ng-click="wiki.toggleLeadLarge()">« Back</button>
                <section class='choosen-article-wrapper' ng-show='wiki.page'>
                    <article class="choosen-article clearfix">
                        <h1 class="text-info">
                            <span class="pointer" title="{{wiki.leadPlaceholder()}}" ng-click="wiki.searchForThisTerm(wiki.page.title)">{{wiki.page.title}}</span>
                        </h1>
                        <img ng-src="{{wiki.page.thumbnail.source}}" alt="{{wiki.page.title}}" class="img-thumbnail" ng-show="wiki.page.thumbnail.source">
                        <section ng-bind-html='wiki.page.extract' ng-dblclick="wiki.selectText()"></section>
                    </article>
                    <button title="Back to serch results" class="btn btn-link" ng-show="wiki.leadLarge" ng-click="wiki.toggleLeadLarge()">« Back</button>
                    <p class="read-more text-info pull-right"><a ng-href="https://en.wikipedia.org/wiki/{{wiki.page.title}}" target="_blank">Read on Wikipedia >> </a></p>
                </section>
            </div>

            <div ng-class="wiki.leadLarge ? 'hidden' : 'col-md-6 col-md-pull-6'">
                <article ng-repeat="page in wiki.results" class="articles clearfix">
                    <h2 class="text-info">
                        <span class="pointer" title="Open this article" ng-click="wiki.openLarge(page.title)">{{page.title}}</span>
                    </h2>
                    <img ng-src="{{page.thumbnail.source}}" alt="{{page.title}}" class="img-thumbnail" ng-show="page.thumbnail.source">
                    <section ng-bind-html='page.extract' ng-dblclick="wiki.selectText()"></section>
                    <p class="read-more text-info pull-right"><a ng-href="https://en.wikipedia.org/wiki/{{page.title}}" target="_blank">Read on Wikipedia >> </a></p>
                </article>
            </div>

        </div>

    </main>

</body>

</html>
